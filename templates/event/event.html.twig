{% extends 'base.html.twig' %}
{% block body %}
	{% from 'macros.html.twig' import empty, tag, roleBadge %}
	{% include 'incident/components/incidentHeader.html.twig' %}

	<div class="card">
		<h2 class="card-header d-flex justify-content-between align-items-center text-bg-{{event.getSeverity.getClass}}">
			<div>
				<i class="fa-solid fa-message"></i>
				<span class="font-monospace">{{event.getId}}</span>
				-
				{{event.getTitle}}
			</div>
			<div style="font-size: 1rem" class="text-end">
				{% if not event.getEdited %}
					{% if event.getRoleBadge %}
						<div class="mb-1" style="font-size: .9rem">{{event.getCreated|date}}
							by</div>
						{{roleBadge(event.getRoleBadge, true)}}
					{% else %}
						{{event.getCreated|date}}
						by
						{{event.getCreatorName}}
					{% endif %}
				{% else %}
					edited
					{{event.getEdited|date}}
					by
					{{event.getEditorName}}
				{% endif %}
			</div>
		</h2>
		<div class="card-body markdown-content">
			{{event.getDesc|markdown_to_html}}
		</div>
	</div>
	<div class="border-start py-3 ms-4 border-5 border-subtle"></div>
	{% include 'comment/components/listing.html.twig' %}
	{% include 'comment/form/commentForm.html.twig' with {'incident':incident.getId, 'event': event.getId} only %}
{% endblock %}
